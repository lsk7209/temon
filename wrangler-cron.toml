# Cloudflare Workers Cron 설정 파일
# 별도 크론 Worker 배포용

name = "cron-stats"
main = "workers/cron-stats.ts"
compatibility_date = "2025-11-01"

# D1 데이터베이스 설정
# 주의: 크론 작업이 사용하는 데이터베이스와 바인딩 이름 확인 필요
[[d1_databases]]
binding = "DB"
database_name = "temon-analytics"
database_id = "" # 배포 후 생성: wrangler d1 create temon-analytics

# 테스트 결과 데이터베이스 (필요시)
# [[d1_databases]]
# binding = "TEST_DB"
# database_name = "temon-mbti-db"
# database_id = "" # 배포 후 생성: wrangler d1 create temon-mbti-db

# Cron Triggers
[triggers]
# 매일 오전 2시 (UTC)에 실행하여 전날 통계 집계
crons = ["0 2 * * *"]

# 환경 변수
[vars]
NODE_ENV = "production"

