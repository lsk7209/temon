# Cloudflare Pages 설정 파일
# 주의: Cloudflare Pages는 Workers 설정과 일부 호환되지 않습니다
# Dashboard에서 빌드 설정을 추가하는 것이 가장 중요합니다

# 프로젝트 이름 (Pages에서 필수)
name = "temon"

# Pages 빌드 출력 디렉토리
# output: 'export' 사용 시 빌드 출력은 'out' 디렉토리
pages_build_output_dir = "out"

# D1 데이터베이스 설정
# Analytics 통계 데이터 저장용
# 주의: Cloudflare Pages는 Dashboard에서 바인딩해야 하지만, 참고용으로 설정 파일에도 추가
[[d1_databases]]
binding = "DB"
database_name = "temon-db"
database_id = "b78fdac5-09b7-43b8-86db-133f5cd4c768"

# 테스트 결과 저장용 데이터베이스 (필요시 별도 추가)
# [[d1_databases]]
# binding = "TEST_DB"
# database_name = "temon-mbti-db"
# database_id = "your-database-id-here"

# KV 네임스페이스 (세션/UTM 캐싱)
# 선택사항: 세션 관리를 위해 사용되지만, 없어도 작동함 (D1에 직접 저장)
# KV 네임스페이스를 생성한 후 id를 설정하고 주석 해제:
# [[kv_namespaces]]
# binding = "SESSIONS"
# id = "your-kv-namespace-id-here"
# 
# KV 네임스페이스 생성 방법:
# 1. Cloudflare Dashboard > Workers & Pages > KV
# 2. Create a namespace 클릭
# 3. Namespace title: temon-sessions 입력
# 4. 생성된 Namespace ID를 위의 id에 입력

# 환경 변수
[vars]
# ADMIN_TOKEN: 관리자 대시보드 API 접근 토큰
# 생성된 토큰 (64자 랜덤 hex 문자열)
ADMIN_TOKEN = "02aa3c5ef24829dd7efd3660008e9584443d755d975fd32c6fbdb228c9a76322"
NODE_ENV = "production"

# Cron Triggers는 별도 Worker로 배포해야 합니다
# wrangler-cron.toml 파일을 참고하세요

# 빌드 설정은 Cloudflare Pages Dashboard에서 설정해야 합니다:
# - Framework preset: Next.js
# - Build command: npm run build
# - Build output directory: .next
# - Root directory: / (기본값)

